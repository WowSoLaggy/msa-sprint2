@startuml context_03.puml
title Final State - Context Diagram

!includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Component.puml


' Systems

System_Boundary(hotelio_boundary, "Hotelio System") {

  Container(broker, "Message Broker", "Kafka")

  Container_Boundary(booking_service, "Booking Service") {
    Component(booking_ctl, "Booking Controller", "java")
    Component(booking_db, "Booking DB", "Postgres")
    Rel(booking_ctl, booking_db, "Reads / writes data")
  }
  Container_Boundary(user_service, "User Service") {
    Component(user_ctl, "User Controller", "java")
    Component(user_db, "User DB", "Postgres")
    Rel(user_ctl, user_db, "Reads / writes data")
  }
  Container_Boundary(hotel_service, "Hotel Service") {
    Component(hotel_ctl, "Hotel Controller", "java")
    Component(hotel_db, "Hotel DB", "Postgres")
    Rel(hotel_ctl, hotel_db, "Reads / writes data")
  }
  Container_Boundary(review_service, "Review Service") {
    Component(review_ctl, "Review Controller", "java")
    Component(review_db, "Review DB", "Postgres")
    Rel(review_ctl, review_db, "Reads / writes data")
  }
  Container_Boundary(promocode_service, "Promocode Service") {
    Component(promocode_ctl, "Promocode Controller", "java")
    Component(promocode_db, "Promocode DB", "Postgres")
    Rel(promocode_ctl, promocode_db, "Reads / writes data")
  }

  Rel_U(booking_ctl, broker, "Communicates with")
  Rel_U(user_ctl, broker, "Communicates with")
  Rel_U(hotel_ctl, broker, "Communicates with")
  Rel_U(review_ctl, broker, "Communicates with")
  Rel_U(promocode_ctl, broker, "Communicates with")
}

@enduml
