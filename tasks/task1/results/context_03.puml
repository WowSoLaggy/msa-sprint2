@startuml context_03.puml
title Final State - Context Diagram

!includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Component.puml


' Systems

System_Boundary(hotelio_boundary, "Hotelio System") {

  Container(broker, "Message Broker", "Kafka")

  Container_Boundary(booking_service_boundary, "Booking Service Boundary") {
    Component(booking_service, "Booking Service", "java")
    Component(booking_db, "Booking DB", "Postgres")
    Rel(booking_service, booking_db, "Reads / writes data")
  }
  Container_Boundary(user_service_boundary, "User Service Boundary") {
    Component(user_service, "User Service", "java")
    Component(user_db, "User DB", "Postgres")
    Rel(user_service, user_db, "Reads / writes data")
  }
  Container_Boundary(hotel_service_boundary, "Hotel Service Boundary") {
    Component(hotel_service, "Hotel Service", "java")
    Component(hotel_db, "Hotel DB", "Postgres")
    Rel(hotel_service, hotel_db, "Reads / writes data")
  }
  Container_Boundary(review_service_boundary, "Review Service Boundary") {
    Component(review_service, "Review Service", "java")
    Component(review_db, "Review DB", "Postgres")
    Rel(review_service, review_db, "Reads / writes data")
  }
  Container_Boundary(promocode_service_boundary, "Promocode Service Boundary") {
    Component(promocode_service, "Promocode Service", "java")
    Component(promocode_db, "Promocode DB", "Postgres")
    Rel(promocode_service, promocode_db, "Reads / writes data")
  }

  Rel_U(booking_service, broker, "Communicates with")
  Rel_U(user_service, broker, "Communicates with")
  Rel_U(hotel_service, broker, "Communicates with")
  Rel_U(review_service, broker, "Communicates with")
  Rel_U(promocode_service, broker, "Communicates with")
}

@enduml
